# #!/bin/sh

# # Check which waybar theme is set
# THEMEIS=$(readlink -f ~/.config/waybar/style.css | cut -d '-' -f2)

# #if the theme is not dark then we need to switch to it
# if [ $THEMEIS != "dark.css" ]; then
#     SWITCHTO="-dark"

# fi

# #set the waybar theme
# ln -sf ~/.config/waybar/style/style$SWITCHTO.css ~/.config/waybar/style.css

# #set the wofi theme
# ln -sf ~/.config/wofi/style/style$SWITCHTO.css ~/.config/wofi/style.css

# #set the xfce theme
# xfconf-query -c xsettings -p /Net/ThemeName -s "Adwaita$SWITCHTO"
# xfconf-query -c xsettings -p /Net/IconThemeName -s "Adwaita$SWITCHTO"

# #set the GTK theme
# gsettings set org.gnome.desktop.interface gtk-theme "Adwaita$SWITCHTO"
# gsettings set org.gnome.desktop.interface icon-theme "Adwaita$SWITCHTO"

# #change the background image
# swww img ~/.config/hypr/wallpaper$SWITCHTO.jpg --transition-fps 60 --transition-type wipe --transition-duration 2

# #update the sddm image
# ln -sf /usr/share/sddm/themes/sdt/Backgrounds/wallpaper$SWITCHTO.jpg /usr/share/sddm/themes/sdt/wallpaper.jpg

# #restart the waybar
# killall -SIGUSR2 waybar

#!/bin/sh

# Check which Waybar theme is set
THEMEIS=$(readlink -f ~/.config/waybar/style.css | cut -d '-' -f2)

# Define variables for wallpaper directories
DARK_WALLPAPERS_DIR="$HOME/.config/hypr/dark-wallpapers"
LIGHT_WALLPAPERS_DIR="$HOME/.config/hypr/light-wallpapers"

# Set the default wallpaper directory
WALLPAPERS_DIR="$LIGHT_WALLPAPERS_DIR"

# If the theme is dark, switch to dark wallpapers
if [ "$THEMEIS" != "dark.css" ]; then
    SWITCHTO="-dark"
    WALLPAPERS_DIR="$DARK_WALLPAPERS_DIR"
fi

# Set the Waybar theme
ln -sf "$HOME/.config/waybar/style/style$SWITCHTO.css" "$HOME/.config/waybar/style.css"

# Set the wofi theme
ln -sf "$HOME/.config/wofi/style/style$SWITCHTO.css" "$HOME/.config/wofi/style.css"

# Set the xfce theme
xfconf-query -c xsettings -p /Net/ThemeName -s "Adwaita$SWITCHTO"
xfconf-query -c xsettings -p /Net/IconThemeName -s "Adwaita$SWITCHTO"

# Set the GTK theme
gsettings set org.gnome.desktop.interface gtk-theme "Adwaita$SWITCHTO"
gsettings set org.gnome.desktop.interface icon-theme "Adwaita$SWITCHTO"

# Select a random wallpaper from the appropriate directory
random_wallpaper=$(find "$WALLPAPERS_DIR" -type f | shuf -n 1)

# Change the background image
swww img "$random_wallpaper" --transition-fps 60 --transition-type wipe --transition-duration 2

# Update the sddm image
ln -sf "/usr/share/sddm/themes/sdt/Backgrounds/wallpaper$SWITCHTO.jpg" "/usr/share/sddm/themes/sdt/wallpaper.jpg"

# Restart Waybar
killall -SIGUSR2 waybar
